<?xml version="1.0" encoding="utf-8"?>
<modification>
	<name>PavoThemer</name>
	<code>pavothemer</code>
	<version>1.0.0</version>
	<author>Pavotheme</author>
	<link>http://www.pavothemes.com</link>
    <file path="admin/controller/common/column_left.php">
        <operation>
            <search><![CDATA[// Catalog]]></search>
            <add position="before"><![CDATA[
                // pavothemer langauge file
                $this->load->language('extension/module/pavothemer');

                // PavoThemer Settings menu
                $settings = array();
                // view settings panel
                if ( $this->user->hasPermission( 'access', 'extension/module/pavothemer/edit' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_settings_text'),
                        'href'     => $this->url->link('extension/module/pavothemer/edit', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                // access customize
                if ( $this->user->hasPermission( 'access', 'extension/module/pavothemer/customize' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_customize_text'),
                        'href'     => $this->url->link('extension/module/pavothemer/customize', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                $tools = array();
                if ( $this->user->hasPermission( 'access', 'extension/module/pavothemer/import' ) ) {
                    $tools[] = array(
                        'name'     => $this->language->get('menu_tool_text'),
                        'href'     => $this->url->link('extension/module/pavothemer/import', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }
                if ( $this->user->hasPermission( 'access', 'extension/module/pavothemer/export' ) ) {
                    $tools[] = array(
                        'name'     => $this->language->get('menu_tool_text'),
                        'href'     => $this->url->link('extension/module/pavothemer/import', 'user_token=' . $this->session->data['user_token'], true),
                        'children' => array()   
                    );
                }

                // view settings panel
                if ( $this->user->hasPermission( 'access', 'extension/module/pavothemer/import' ) || $this->user->hasPermission( 'access', 'extension/module/pavothemer/export' ) ) {
                    $settings[] = array(
                        'name'     => $this->language->get('menu_tool_text'),
                        'href'     => '',
                        'children' => $tools
                    );
                }

                if ( $settings ) {
                    $data['menus'][] = array(
                        'id'       => 'pavothemer',
                        'icon'     => 'fa fa-cog fw',
                        'name'     => $this->language->get( 'heading_title' ),
                        'href'     => '',
                        'children' => $settings
                    );
                }
                // End PavoThemer Settings menu
            ]]></add>
        </operation>
    </file>
</modification>